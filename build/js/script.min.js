const headerToggle=document.querySelector(".header__toggle"),headerNavList=document.querySelector(".header__nav-list");headerToggle.classList.remove("visually-hidden"),headerNavList.classList.add("header__nav-list--closed"),headerToggle.addEventListener("click",function(e){e.preventDefault(),headerToggle.classList.toggle("header__toggle--closed"),headerNavList.classList.toggle("header__nav-list--closed")});const theLinks=document.querySelectorAll(".nav-item__link");theLinks.forEach(e=>e.addEventListener("click",()=>{headerToggle.classList.toggle("header__toggle--closed"),headerNavList.classList.toggle("header__nav-list--closed")})),document.addEventListener("click",e=>{var t=e.composedPath().includes(headerNavList),e=e.composedPath().includes(headerToggle);t||e||(headerNavList.classList.add("header__nav-list--closed"),headerToggle.classList.remove("header__toggle--closed"))});const modalCTA=document.querySelector(".page__modal-call-to-action"),buttonCTA=document.querySelector(".call-to-action__button"),toggleCTA=document.querySelector(".modal-call-to-action__toggle-box, .modal-call-to-action__toggle");buttonCTA.addEventListener("click",function(e){e.preventDefault(),modalCTA.classList.remove("visually-hidden")}),toggleCTA.addEventListener("click",function(e){e.preventDefault(),modalCTA.classList.add("visually-hidden")}),document.addEventListener("DOMContentLoaded",function(){const r=document.querySelector(".modal-call-to-action__form"),d=document.querySelector(".page__modal-call-to-action"),i=document.querySelector(".page__modal-feedback--done");function u(e){e.classList.add("item-radio__input-field--error")}r.addEventListener("submit",async function(e){e.preventDefault();var t=function(){let t=0,o=document.querySelectorAll(".item-radio__input-field");for(let e=0;e<o.length;e++){const s=o[e];s.classList.remove("item-radio__input-field--error"),s.classList.contains("__email")?/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(s.value)||(u(s),t++):s.classList.contains("__phone")?/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(s.value)||(u(s),t++):s.classList.contains("__telegram")&&(/^@\w+([\.-]?\w+)$/.test(s.value)||(u(s),t++))}return t}(r),e=new FormData(r);if(t<=4){const o=document.querySelector(".modal-call-to-action__container");o.classList.add("modal-call-to-action__container--sending");await fetch("sendmail.php",{method:"POST",body:e});o.classList.remove("modal-call-to-action__container--sending"),d.classList.add("visually-hidden"),i.classList.remove("visually-hidden");const s=document.querySelector(".modal-feedback__button--done"),l=document.querySelector(".modal-feedback__toggle-box--done, .modal-feedback__toggle--done");l.addEventListener("click",function(e){e.preventDefault(),i.classList.add("visually-hidden")}),s.addEventListener("click",function(e){e.preventDefault(),i.classList.add("visually-hidden")})}else{const a=document.querySelector(".page__modal-feedback--error");a.classList.remove("visually-hidden");const n=document.querySelector(".modal-feedback__button--error"),c=document.querySelector(".modal-feedback__toggle-box--error, .modal-feedback__toggle--error");c.addEventListener("click",function(e){e.preventDefault(),a.classList.add("visually-hidden")}),n.addEventListener("click",function(e){e.preventDefault(),a.classList.add("visually-hidden")})}})});const offset=800,scrollUp=document.querySelector(".page__scroll-up"),scrollUpSvgPath=document.querySelector(".scroll-up__svg-path"),pathLength=scrollUpSvgPath.getTotalLength();scrollUpSvgPath.style.strokeDasharray=pathLength+" "+pathLength,scrollUpSvgPath.style.transition="stroke-dashoffset 20ms";const getTop=()=>window.pageYOffset||document.documentElement.scrollTop,updateDashoffset=()=>{var e=document.documentElement.scrollHeight-window.innerHeight,e=pathLength-getTop()*pathLength/e;scrollUpSvgPath.style.strokeDashoffset=e};function offsett(e){var t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+e,left:t.left+o}}window.addEventListener("scroll",()=>{updateDashoffset(),getTop()>offset?scrollUp.classList.add("page__scroll-up--active"):scrollUp.classList.remove("page__scroll-up--active")}),scrollUp.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),updateDashoffset();let stagesOfWorkItems=document.querySelectorAll(".stages-of-work__item");function animOnScroll(){for(let e=0;e<stagesOfWorkItems.length;e++){const s=stagesOfWorkItems[e];var t=s.offsetHeight,o=offsett(s).top;scrollY>o-t&&s.classList.add("stages-of-work__item--animation")}}window.addEventListener("scroll",animOnScroll),setTimeout(()=>{animOnScroll()},50);let aboutUsItems=document.querySelectorAll(".about-us__item");function animOnScrollAboutUs(){for(let e=0;e<aboutUsItems.length;e++){const o=aboutUsItems[e];o.offsetHeight;var t=offsett(o).top;scrollY>t-window.screen.height/1.5&&o.classList.add("about-us__item--animation")}}window.addEventListener("scroll",animOnScrollAboutUs),setTimeout(()=>{animOnScrollAboutUs()},50);let sliderItems=document.querySelectorAll(".feedback__slider-item"),radioButtons=document.querySelectorAll(".feedback__radio-button");const arrowsPrev=document.querySelector(".slider-arrows__prev"),arrowsNext=document.querySelector(".slider-arrows__next");for(let e=0;e<sliderItems.length;e++)arrowsPrev.addEventListener("click",function(){radioButtons[e].checked&&radioButtons[e-1].click(),onP()});for(let e=sliderItems.length;0<=e;e--)arrowsNext.addEventListener("click",function(){radioButtons[e].checked&&radioButtons[e+1].click(),onP()});for(let e=0;e<sliderItems.length;e++)radioButtons[e].addEventListener("click",function(){onP()});function onP(){radioButtons[0].checked?(arrowsPrev.classList.add("feedback__slider-arrows--no-active"),arrowsNext.classList.remove("feedback__slider-arrows--no-active")):(radioButtons[sliderItems.length-1].checked?arrowsNext.classList.add("feedback__slider-arrows--no-active"):arrowsNext.classList.remove("feedback__slider-arrows--no-active"),arrowsPrev.classList.remove("feedback__slider-arrows--no-active"))}onP(),document.addEventListener("touchstart",handleTouchStart,!1),document.addEventListener("touchmove",handleTouchMove,!1);const sliderList=document.querySelector(".feedback__slider-list");let x1=null;function handleTouchStart(e){e=e.touches[0];x1=e.clientX}function handleTouchMove(e){if(!x1)return!1;e=e.touches[0].clientX-x1;if(7<e)for(let e=0;e<sliderItems.length;e++)radioButtons[e].checked&&(radioButtons[e-1].click(),onP());else if(e<-7)for(let e=sliderItems.length-1;0<=e;e--)radioButtons[e].checked&&(radioButtons[e+1].click(),onP());x1=null,y1=null}